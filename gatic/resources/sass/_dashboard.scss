.dash-page {
  .dash-header {
    display: flex;
    align-items: end;
    justify-content: space-between;
    gap: var(--space-4);
    margin-bottom: var(--space-4);
  }

  .dash-title {
    margin: 0;
    letter-spacing: 0.01em;
  }

  .dash-group-header {
    display: flex;
    align-items: end;
    justify-content: space-between;
    gap: var(--space-3);
    margin-bottom: var(--space-2);
  }

  .dash-group-title {
    color: var(--bs-body-color);
    font-size: 0.8125rem;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    font-weight: 800;
  }

  .dash-group-hint {
    margin-top: 0.125rem;
    color: var(--bs-secondary-color);
    font-size: 0.9rem;
    line-height: 1.25;
  }

  .dash-subgroup-title {
    color: var(--bs-secondary-color);
    font-size: 0.75rem;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    font-weight: 800;
    margin-bottom: var(--space-2);
  }

  .dash-grid-4,
  .dash-grid-3,
  .dash-grid-2 {
    display: grid;
    gap: var(--space-3);
  }

  .dash-grid-4 {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }

  .dash-grid-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .dash-grid-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  @include media-breakpoint-down(lg) {
    .dash-grid-4,
    .dash-grid-3,
    .dash-grid-2 {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @include media-breakpoint-down(sm) {
    .dash-grid-4,
    .dash-grid-3,
    .dash-grid-2 {
      grid-template-columns: 1fr;
    }
  }
}

.dash-kpi {
  position: relative;
  overflow: hidden;
  border-radius: var(--radius-md);
  border: 1px solid var(--bs-border-color);
  box-shadow: var(--shadow-sm);
  background: linear-gradient(180deg, rgba(0, 142, 90, 0.06), rgba(0, 0, 0, 0));

  &::before {
    content: '';
    position: absolute;
    inset-block: 0;
    inset-inline-start: 0;
    width: 0.35rem;
    background: var(--dash-accent, var(--cfe-green));
    opacity: 0.9;
  }

  @media (hover: hover) and (pointer: fine) {
    &:hover {
      box-shadow: var(--shadow-md);
      transform: translateY(-1px);
      transition: transform var(--transition-fast), box-shadow var(--transition-fast);
    }
  }
}

.dash-variant-danger {
  --dash-accent: var(--color-danger);
  background: linear-gradient(180deg, var(--color-danger-bg), rgba(0, 0, 0, 0));
}

.dash-variant-warning {
  --dash-accent: var(--color-warning);
  background: linear-gradient(180deg, var(--color-warning-bg), rgba(0, 0, 0, 0));
}

.dash-variant-info {
  --dash-accent: var(--color-info);
  background: linear-gradient(180deg, var(--color-info-bg), rgba(0, 0, 0, 0));
}

.dash-variant-success {
  --dash-accent: var(--color-success);
  background: linear-gradient(180deg, var(--color-success-bg), rgba(0, 0, 0, 0));
}

.dash-variant-primary {
  --dash-accent: var(--cfe-green-dark);
}

.dash-variant-secondary {
  --dash-accent: var(--color-secondary);
  background: linear-gradient(180deg, var(--color-secondary-bg), rgba(0, 0, 0, 0));
}

.dash-kpi-label {
  color: var(--bs-secondary-color);
  font-size: 0.75rem;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  font-weight: 700;
}

.dash-kpi-description {
  margin-top: 0.125rem;
  color: var(--bs-secondary-color);
  font-size: 0.875rem;
  line-height: 1.25;
}

.dash-kpi-value {
  margin-top: var(--space-3);
  font-size: 2rem;
  font-weight: 800;
  letter-spacing: 0.01em;
  line-height: 1.05;
  font-variant-numeric: tabular-nums;
}

.dash-kpi-icon {
  flex: 0 0 auto;
  width: 2.25rem;
  height: 2.25rem;
  display: grid;
  place-items: center;
  border-radius: var(--radius-sm);
  border: 1px solid var(--bs-border-color);
  color: var(--bs-secondary-color);
  background: var(--bs-tertiary-bg);
}

.dash-kpi--compact {
  .card-body {
    padding: var(--space-3);
  }

  .dash-kpi-value {
    margin-top: var(--space-2);
    font-size: 1.75rem;
  }

  .dash-kpi-description {
    font-size: 0.8125rem;
  }

  .dash-kpi-icon {
    width: 2rem;
    height: 2rem;
  }
}

.dash-chip {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: 0.2rem 0.5rem;
  border-radius: var(--radius-full);
  border: 1px solid var(--bs-border-color);
  background: var(--bs-tertiary-bg);
  color: var(--bs-secondary-color);
  font-size: 0.75rem;
  line-height: 1.1;

  strong {
    color: var(--bs-body-color);
    font-weight: 800;
  }
}

.dash-variant-danger .dash-kpi-icon {
  color: var(--color-danger);
  border-color: var(--color-danger-bg);
  background: var(--color-danger-bg);
}

.dash-variant-warning .dash-kpi-icon {
  color: var(--color-warning);
  border-color: var(--color-warning-bg);
  background: var(--color-warning-bg);
}

.dash-variant-info .dash-kpi-icon {
  color: var(--color-info);
  border-color: var(--color-info-bg);
  background: var(--color-info-bg);
}

.dash-variant-success .dash-kpi-icon {
  color: var(--color-success);
  border-color: var(--color-success-bg);
  background: var(--color-success-bg);
}

.dash-variant-primary .dash-kpi-icon {
  color: var(--cfe-green-dark);
  border-color: var(--cfe-green-bg);
  background: var(--cfe-green-bg);
}

.dash-variant-secondary .dash-kpi-icon {
  color: var(--color-secondary);
  border-color: var(--color-secondary-bg);
  background: var(--color-secondary-bg);
}

.dash-section {
  border-radius: var(--radius-md);
  border: 1px solid var(--bs-border-color);
  box-shadow: var(--shadow-sm);
}

.dash-section-header {
  background: var(--bs-tertiary-bg);
}

.dash-section-title {
  font-size: 0.875rem;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  font-weight: 800;
}

.dash-section-subtitle {
  color: var(--bs-secondary-color);
}

.dash-section-body {
  padding: var(--space-4);
}

.dash-chart {
  height: 260px;
}
