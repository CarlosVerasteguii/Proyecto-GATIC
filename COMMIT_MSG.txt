docs(epic-6): retrospectiva y cierre de Épica 6 (Gate 2: Inventario navegable)

DESCRIPCIÓN DETALLADA:
=====================
Se completa la retrospectiva de la Épica 6 (Búsqueda y Filtros) que cierra el Gate 2
del proyecto GATIC. Este commit documenta lecciones aprendidas, patrones consolidados,
y crea artefactos para prevenir bugs recurrentes detectados en code reviews.

Logros principales de Epic 6:
- 2/2 stories completadas (100% delivery rate)
- +31 tests agregados (15 búsqueda, 9 filtros, 7 regresión)
- Suite total: 298 tests passing, 764 assertions
- Code reviews capturaron 100% de hallazgos HIGH antes de producción

Action Items completados en este commit:
- Action Item #1: Epic source of truth normalizado (epic-6 → done)
- Action Item #3: Checklist de long-request UX agregado a create-story
- Action Item #4: Template de soft-delete regression creado

Hallazgos clave documentados:
- Patrón recurrente: long-request UX olvidado (3er epic consecutivo)
- Soft-delete semantics: requieren tests explícitos (bug HIGH en 6.2)
- Action Items de Epic 2/5 con 4 épicas de arrastre (escalado a Carlos)

PROCESO DE IMPLEMENTACIÓN Y PRUEBAS:
====================================
1. RETROSPECTIVA
   - Documento completo con formato BMAD
   - Métricas cuantificables (tests, code reviews, delivery rate)
   - Seguimiento de Action Items desde Epic 5
   - Patrones y anti-patrones consolidados
   - 8 Action Items nuevos con owners y deadlines

2. TEMPLATE DE SOFT-DELETE REGRESSION
   - Patrón reutilizable para tests de regresión
   - Ejemplo real basado en hallazgo de Story 6.2
   - Checklist de implementación
   - Documentación de modelos con soft-delete en GATIC

3. CHECKLIST DE CREATE-STORY
   - Agregado item explícito: "¿Componente Livewire hace queries? → Integrar <x-ui.long-request>"
   - Agregado item: "¿Story toca conteos/búsquedas? → Crear test de regresión soft-delete"
   - Previene patrón recurrente detectado en 3 épicas

4. SPRINT STATUS
   - epic-6: done
   - epic-6-retrospective: done
   - Épica 7 lista para iniciar (backlog)

ARCHIVOS MODIFICADOS:
=====================
_bmad-output/implementation-artifacts/epic-6-retro-2026-01-17.md (NUEVO)
  - Retrospectiva completa de Epic 6
  - Participantes: Carlos, Bob, Alice, Charlie, Dana, Elena, Winston
  - Métricas: 2/2 stories, +31 tests, 0 bugs en producción
  - 6 fortalezas documentadas (delivery, UX búsqueda, filtros URL, anti-N+1, code reviews, RBAC)
  - 5 desafíos identificados (long-request, soft-delete, subquery duplication, action items, entry points)
  - 8 Action Items con estados, owners y deadlines
  - Ruta crítica para Epic 7
  - Readiness assessment

gatic/tests/Feature/_templates/soft-delete-regression-template.md (NUEVO)
  - Template PHP para tests de regresión
  - Documentación de modelos con soft-delete
  - Ejemplo real: Assets en ProductsIndex
  - Checklist de implementación
  - Referencias a hallazgo original (Story 6.2)

_bmad/bmm/workflows/4-implementation/create-story/checklist.md (MODIFICADO)
  - Item agregado: verificación de long-request UX para componentes Livewire
  - Item agregado: tests de regresión para soft-delete en conteos/búsquedas
  - Patrón: crear registros soft-deleted y verificar exclusión

_bmad-output/implementation-artifacts/sprint-status.yaml (MODIFICADO)
  - epic-6: in-progress → done
  - epic-6-retrospective: optional → done

NOTAS TÉCNICAS:
===============
- La retrospectiva sigue el formato BMAD definido en `_bmad/persona-docs/po.md`
- Los Action Items #1 y #2 llevan 4 épicas de arrastre; escalados a Carlos
- El template de soft-delete aplica a todos los modelos con trait `SoftDeletes`
- El checklist previene el patrón recurrente de 3 épicas: olvidar long-request UX

Modelos con SoftDeletes en GATIC:
- Asset: afecta assets_total, assets_unavailable, disponibilidad
- Product: afecta conteos de productos, inventario
- Category, Brand, Location: afectan filtros de catálogos
- Employee: afecta búsquedas y asignaciones

Action Items pendientes (no bloqueantes para Epic 7):
- #2: Aceptación PO por épica (pendiente definición de proceso)
- #5: Consolidar scopes/helpers de disponibilidad
- #6: Factories faltantes Epic 1-4
- #7: Documentar flujo "Pendiente de Retiro"
- #8: Roadmap auditoría post-Epic 8

VERIFICACIÓN:
=============
- Revisión manual de retrospectiva: estructura completa, métricas verificadas
- Template de soft-delete: ejemplo validado contra implementación real de Story 6.2
- Sprint-status.yaml: consistente con artefactos de stories
- Checklist: items integrados sin romper formato existente

Impacto en Epic 7:
- ✅ Gate 2 completo: inventario navegable operativo
- ✅ Dependencias claras: movimientos (Epic 5), RBAC (Epic 1-6), UX (Epic 1)
- ✅ Checklist actualizado: previene bugs recurrentes
- ✅ Template de regresión: acelera testing de conteos

Epic: 6 (Búsqueda y Filtros)
Gate: 2 (Inventario navegable — búsqueda y filtros)
Status: DONE
