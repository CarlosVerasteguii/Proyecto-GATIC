.admin-users-page {
  .admin-users-toolbar {
    border: 1px solid var(--bs-border-color);
    box-shadow: var(--shadow-sm);
    overflow: hidden;
  }

  .admin-users-toolbar .card-header {
    background:
      radial-gradient(circle at 90% -20%, rgba(0, 142, 90, 0.14), transparent 36%),
      linear-gradient(180deg, rgba(0, 107, 71, 0.08), rgba(0, 107, 71, 0));
    border-bottom: 1px solid var(--bs-border-color);
  }

  .admin-users-toolbar .form-label {
    margin-bottom: 0.35rem;
    font-size: 0.75rem;
    letter-spacing: 0.04em;
    text-transform: uppercase;
    font-weight: 700;
    color: var(--bs-secondary-color);
  }

  .admin-users-kpi {
    height: 100%;
    border-radius: var(--radius-md);
    border: 1px solid var(--bs-border-color);
    background: var(--bs-body-bg);
    box-shadow: var(--shadow-sm);
    padding: var(--space-3);
  }

  .admin-users-kpi__label {
    color: var(--bs-secondary-color);
    font-size: 0.75rem;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    font-weight: 700;
  }

  .admin-users-kpi__value {
    margin-top: var(--space-2);
    font-size: 1.75rem;
    font-weight: 800;
    line-height: 1;
    font-variant-numeric: tabular-nums;
  }

  .admin-users-table thead th {
    --bs-table-bg: var(--bs-tertiary-bg);
    border-bottom-width: 1px;
    font-size: 0.72rem;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    color: var(--bs-secondary-color);
    font-weight: 700;
  }

  .admin-users-table tbody tr {
    transition: background-color var(--transition-fast);
  }

  .admin-users-table tbody tr:hover {
    --bs-table-bg: rgba(0, 142, 90, 0.06);
  }

  .admin-users-avatar {
    width: 2rem;
    height: 2rem;
    border-radius: var(--radius-full);
    border: 1px solid rgba(0, 142, 90, 0.3);
    background: rgba(0, 142, 90, 0.12);
    color: var(--cfe-green-dark);
    display: grid;
    place-items: center;
    font-size: 0.75rem;
    font-weight: 800;
    flex: 0 0 auto;
  }

  .admin-users-role {
    border: 1px solid transparent;
    font-weight: 600;
  }

  .admin-users-role--admin {
    color: #0f766e;
    background: rgba(15, 118, 110, 0.12);
    border-color: rgba(15, 118, 110, 0.28);
  }

  .admin-users-role--editor {
    color: #1d4ed8;
    background: rgba(29, 78, 216, 0.12);
    border-color: rgba(29, 78, 216, 0.28);
  }

  .admin-users-role--lector {
    color: #475569;
    background: rgba(71, 85, 105, 0.12);
    border-color: rgba(71, 85, 105, 0.25);
  }

  .admin-users-status {
    display: inline-flex;
    align-items: center;
    gap: 0.3rem;
    border: 1px solid transparent;
    font-weight: 600;
  }

  .admin-users-status--active {
    color: var(--color-success);
    background: var(--color-success-bg);
    border-color: rgba(25, 135, 84, 0.25);
  }

  .admin-users-status--inactive {
    color: var(--color-secondary);
    background: var(--color-secondary-bg);
    border-color: rgba(108, 117, 125, 0.25);
  }

  .admin-users-actions .btn {
    min-width: 7rem;
  }

  .admin-users-columns-btn {
    border-style: dashed;
  }

  @include media-breakpoint-down(md) {
    .admin-users-actions .btn {
      min-width: auto;
    }
  }
}

[data-bs-theme='dark'] .admin-users-page {
  .admin-users-toolbar .card-header {
    background:
      radial-gradient(circle at 90% -20%, rgba(0, 179, 111, 0.14), transparent 36%),
      linear-gradient(180deg, rgba(0, 142, 90, 0.12), rgba(0, 142, 90, 0));
  }

  .admin-users-table tbody tr:hover {
    --bs-table-bg: rgba(0, 179, 111, 0.14);
  }

  .admin-users-role--lector {
    color: #cbd5e1;
    background: rgba(148, 163, 184, 0.18);
    border-color: rgba(148, 163, 184, 0.3);
  }
}

.admin-user-form-page {
  .admin-user-form-card {
    border: 1px solid var(--bs-border-color);
    box-shadow: var(--shadow-sm);
    overflow: hidden;
  }

  .admin-user-form-card__header {
    background:
      radial-gradient(circle at 100% -10%, rgba(0, 142, 90, 0.14), transparent 35%),
      linear-gradient(180deg, rgba(0, 107, 71, 0.08), rgba(0, 107, 71, 0));
    border-bottom: 1px solid var(--bs-border-color);
  }

  .admin-user-form-card__subtitle {
    max-width: 60ch;
  }

  .admin-user-form-section {
    border: 1px solid var(--bs-border-color);
    border-radius: var(--radius-md);
    padding: var(--space-4);
    background: var(--bs-body-bg);
  }

  .admin-user-form-section + .admin-user-form-section {
    margin-top: var(--space-3);
  }

  .admin-user-form-section__title {
    display: inline-flex;
    align-items: center;
    gap: 0.45rem;
    margin-bottom: var(--space-3);
    font-size: 0.95rem;
    font-weight: 700;
    letter-spacing: 0.04em;
    text-transform: uppercase;
    color: var(--bs-secondary-color);
  }

  .admin-user-form-section .form-label {
    margin-bottom: 0.35rem;
    font-size: 0.75rem;
    letter-spacing: 0.04em;
    text-transform: uppercase;
    font-weight: 700;
    color: var(--bs-secondary-color);
  }

  .admin-user-form-readonly {
    background: var(--bs-tertiary-bg);
    color: var(--bs-emphasis-color);
    border-style: dashed;
  }

  .admin-user-password-group .form-control.is-invalid {
    z-index: 2;
  }

  .admin-user-password-btn {
    min-width: 2.6rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .admin-user-password-btn .bi {
    font-size: 1rem;
  }

  .admin-user-form-actions {
    margin-top: var(--space-3);
    padding-top: var(--space-3);
    border-top: 1px solid var(--bs-border-color);
  }

  .admin-user-form-summary {
    border: 1px solid var(--bs-border-color);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-sm);
    background: var(--bs-body-bg);
    padding: var(--space-4);
    position: sticky;
    top: calc(var(--topbar-height) + var(--space-4));
  }

  .admin-user-form-summary__title {
    font-size: 0.85rem;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    font-weight: 800;
    margin-bottom: var(--space-3);
    color: var(--bs-secondary-color);
  }

  .admin-user-form-summary__meta {
    display: grid;
    gap: var(--space-2);
    margin-bottom: var(--space-3);
  }

  .admin-user-form-summary__meta div {
    display: grid;
    gap: 0.15rem;
    padding-bottom: var(--space-2);
    border-bottom: 1px dashed var(--bs-border-color);
  }

  .admin-user-form-summary__meta dt {
    margin: 0;
    font-size: 0.72rem;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    font-weight: 700;
    color: var(--bs-secondary-color);
  }

  .admin-user-form-summary__meta dd {
    margin: 0;
    font-weight: 600;
    color: var(--bs-body-color);
  }

  .admin-user-form-summary__hint {
    font-size: 0.86rem;
    color: var(--bs-secondary-color);
    line-height: 1.45;
  }

  .admin-user-status {
    display: inline-flex;
    align-items: center;
    padding: 0.15rem 0.5rem;
    border-radius: var(--radius-full);
    border: 1px solid transparent;
    font-size: 0.78rem;
    font-weight: 700;
  }

  .admin-user-status--active {
    color: var(--color-success);
    background: var(--color-success-bg);
    border-color: rgba(25, 135, 84, 0.25);
  }

  .admin-user-status--inactive {
    color: var(--color-danger);
    background: var(--color-danger-bg);
    border-color: rgba(220, 53, 69, 0.25);
  }

  .admin-user-role-help {
    border-radius: var(--radius-md);
    border: 1px solid var(--bs-border-color);
    padding: var(--space-3);
    background: var(--bs-tertiary-bg);
  }

  .admin-user-role-help__title {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    font-weight: 700;
    margin-bottom: 0.35rem;
  }

  .admin-user-role-help--admin {
    border-color: rgba(15, 118, 110, 0.3);
    background: rgba(15, 118, 110, 0.08);
  }

  .admin-user-role-help--editor {
    border-color: rgba(29, 78, 216, 0.32);
    background: rgba(29, 78, 216, 0.08);
  }

  .admin-user-role-help--lector {
    border-color: rgba(71, 85, 105, 0.28);
    background: rgba(71, 85, 105, 0.08);
  }

  @include media-breakpoint-down(xl) {
    .admin-user-form-summary {
      position: static;
      top: auto;
    }
  }
}

[data-bs-theme='dark'] .admin-user-form-page {
  .admin-user-form-card__header {
    background:
      radial-gradient(circle at 100% -10%, rgba(0, 179, 111, 0.14), transparent 35%),
      linear-gradient(180deg, rgba(0, 142, 90, 0.12), rgba(0, 142, 90, 0));
  }

  .admin-user-role-help--lector {
    border-color: rgba(148, 163, 184, 0.32);
    background: rgba(148, 163, 184, 0.12);
  }
}
