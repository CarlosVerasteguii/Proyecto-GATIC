feat(inventory): implementar filtros de inventario por catálogos y estado/disponibilidad (Story 6.2)

DESCRIPCIÓN DETALLADA:
=====================
Se implementan filtros avanzados para el listado de Productos e individual de Activos,
permitiendo a los usuarios (Admin/Editor/Lector) filtrar el inventario por categoría,
marca, disponibilidad (Productos) y por ubicación/estado (Activos).

Características principales:
- Filtros UI en /inventory/products: Categoría, Marca, Disponibilidad (Todas/Con disponibles/Sin disponibles)
- Filtros UI en /inventory/products/{product}/assets: Ubicación, Estado
- Persistencia de filtros en URL via query string (#[Url] de Livewire 3)
- Botón "Limpiar" visible cuando hay filtros activos
- Reset automático de paginación al cambiar cualquier filtro
- Por defecto, activos "Retirado" NO se muestran (solo cuando se filtra explícitamente)
- Guardrail para productos no serializados: mensaje "No hay activos para productos por cantidad"
- Integración de componente <x-ui.long-request /> para UX en requests lentos (>3s)

Semántica de disponibilidad respetada (domain rules):
- Serializados: Disponibles = assets_total - assets_unavailable (excluye Retirado)
- Por cantidad: Disponibles = qty_total

PROCESO DE IMPLEMENTACIÓN Y PRUEBAS:
====================================
1. LIVEWIRE COMPONENTS (ProductsIndex, AssetsIndex)
   - Agregadas propiedades de filtros con atributo #[Url] para persistencia en query string
   - Implementados métodos updatedX() para reset de paginación
   - Implementados clearFilters() y hasActiveFilters()
   - Uso de config('gatic.ui.pagination.per_page') en lugar de valor hardcodeado

2. QUERY BUILDING (anti N+1)
   - Filtros por category_id/brand_id via ->when() condicional
   - Filtro de disponibilidad via HAVING con CASE expression (usa aliases assets_total/assets_unavailable)
   - Subqueries correlacionadas para conteos, no N+1 por renglón
   - Eager loading con with(['category', 'brand']) y with('location')

3. BLADE TEMPLATES
   - Agregados selects Bootstrap 5 para cada filtro con labels accesibles
   - Botón "Limpiar" condicional vía @if ($this->hasActiveFilters())
   - Integración de <x-ui.long-request /> al inicio de cada template

4. RBAC
   - Gate::authorize('inventory.view') en mount() y render()
   - UI diferenciada por rol (Lector no ve botones de edición)

5. TESTS (9 nuevos tests)
   - 5 tests en ProductsTest.php: filtros categoría/marca, disponibilidad (with/without), paginación
   - 4 tests en AssetsTest.php: filtros ubicación/estado, comportamiento de Retirado

6. CODE REVIEW FIXES APLICADOS
   - Corregido: conteos de assets excluyen soft-deleted assets
   - Corregido: integración de <x-ui.long-request /> en ambos índices
   - Refactorizado: filtro de disponibilidad usa HAVING con aliases (evita subqueries duplicadas)
   - Agregado: test de regresión para soft-delete en conteos

ARCHIVOS MODIFICADOS:
=====================
gatic/app/Livewire/Inventory/Products/ProductsIndex.php
  - Propiedades categoryId, brandId, availability con #[Url]
  - Métodos updatedX(), clearFilters(), hasActiveFilters()
  - Query con filtros condicionales y HAVING para disponibilidad
  - Carga de categories y brands para dropdowns

gatic/resources/views/livewire/inventory/products/products-index.blade.php
  - <x-ui.long-request /> integrado (línea 2)
  - Row de filtros: Categoría, Marca, Disponibilidad selects
  - Botón "Limpiar" condicional
  - Query string en $returnQuery para links de navegación

gatic/app/Livewire/Inventory/Assets/AssetsIndex.php
  - Propiedades locationId, status con #[Url]
  - Filtro de ubicación y estado en query
  - Exclusión por defecto de Retirado (when status === 'all')
  - config('gatic.ui.pagination.per_page') en paginación

gatic/resources/views/livewire/inventory/assets/assets-index.blade.php
  - <x-ui.long-request /> integrado (línea 2)
  - Filtros: Ubicación, Estado (incluye opción "Todos sin Retirado")
  - Botón "Limpiar" condicional
  - Guardrail alert para productos por cantidad

gatic/tests/Feature/Inventory/ProductsTest.php
  - test_can_filter_by_category
  - test_can_filter_by_brand
  - test_can_filter_with_available
  - test_can_filter_without_available
  - test_availability_excludes_soft_deleted_assets (regresión)

gatic/tests/Feature/Inventory/AssetsTest.php
  - test_can_filter_by_location
  - test_can_filter_by_status
  - test_retired_excluded_by_default
  - test_retired_shown_when_explicitly_filtered

_bmad-output/implementation-artifacts/sprint-status.yaml
  - Story 6-2: in-progress -> done

_bmad-output/implementation-artifacts/6-2-filtros-de-inventario-por-catalogos-y-estado-disponibilidad.md
  - Status: done
  - Code review fixes documentados
  - File list actualizada

NOTAS TÉCNICAS:
===============
- El filtro de disponibilidad usa HAVING en lugar de WHERE porque opera sobre aliases
  calculados por subqueries (assets_total, assets_unavailable). Esto evita duplicar
  las subqueries costosas.
  
- El estado "Retirado" se excluye por defecto en /inventory/products/{product}/assets
  para mantener consistencia con la semántica del dominio: "Retirado no cuenta en
  inventario baseline" (project-context.md).

- Los catálogos (Category, Brand, Location) solo muestran registros no soft-deleted
  usando whereNull('deleted_at') para mantener consistencia.

- El componente <x-ui.long-request /> muestra overlay de carga con opción de cancelar
  para requests que excedan 3 segundos (UX requerida por NFR).

VERIFICACIÓN:
=============
- Sail artisan test: 298 tests passed, 764 assertions
- Pint: passing (no style violations)
- Larastan: no new errors introduced
- Validación manual con usuarios Admin/Editor/Lector en browser
- Filtros probados: categoría, marca, disponibilidad, ubicación, estado
- URL persistence confirmada (?category=1&availability=with_available)
- Guardrail de productos no serializados verificado

Story: 6-2-filtros-de-inventario-por-catalogos-y-estado-disponibilidad
Epic: 6 (Gate 2: Inventario navegable — búsqueda y filtros)
